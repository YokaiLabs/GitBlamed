---
interface Props {
  id: string;
  title: string;
}

const { id, title } = Astro.props;
---

<div id={id} class="absolute rounded-md drop-shadow-lg drop-shadow-emerald-800">
  <div
    class="window-bar relative flex h-8 w-full cursor-grab items-center rounded-t-md border-2 border-slate-700 bg-slate-600"
  >
    <div
      class="absolute top-0 left-0 flex h-full items-center justify-center space-x-1 px-2"
    >
      <div
        class="h-[12px] w-[12px] rounded-full border-2 border-red-600 bg-red-500"
      >
      </div>
      <div
        class="h-[12px] w-[12px] rounded-full border-2 border-yellow-600 bg-yellow-500"
      >
      </div>
      <div
        class="h-[12px] w-[12px] rounded-full border-2 border-green-600 bg-green-500"
      >
      </div>
    </div>
    <div class="flex grow justify-center text-sm text-slate-100">
      {title}
    </div>
  </div>
  <div
    class="flex flex-col items-center space-y-4 rounded-b-md border-2 border-t-0 border-slate-400 bg-slate-300 px-10 py-4"
  >
    <slot />
  </div>
</div>
<script is:inline define:vars={{ id }}>
  import { setupMovableWindow } from "../lib/window.ts";

  const container = document.getElementById(id);

  if (container instanceof HTMLDivElement) {
    setupMovableWindow(container);
  }
</script>
